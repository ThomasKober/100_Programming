<Window x:Class="WpfSerialInterfaceWithProtocol.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfSerialInterfaceWithProtocol.ViewModels"
        mc:Ignorable="d"
        Title="Serial Interface - ViConTool"
        SizeToContent="WidthAndHeight"
        MinWidth="600"
        MinHeight="450"
        Width="800"
        Height="550"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResizeWithGrip"
        Background="{DynamicResource BackgroundBrush}">
    <Grid Margin="10">
        <!-- Column definitions -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="200"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Row definitions -->
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header Section (Row 0) -->
        <Border
            Grid.Row="0"
            Grid.ColumnSpan="2"
            Background="Transparent"
            BorderBrush="{DynamicResource BorderBrush}"
            BorderThickness="0,0,0,2"
            Padding="5,10"
            Margin="0,0,0,10">
            <Grid>
                <Label
                    Content="ViConTool"
                    FontWeight="Bold"
                    FontSize="18"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Foreground="{DynamicResource LabelBrush}"/>
                <Button
                    Content="🌓"
                    Command="{Binding ToggleThemeCommand}"
                    ToolTip="Toggle Dark/Light Mode"
                    Style="{DynamicResource ModernButton}"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center"
                    Width="40"
                    Height="30"/>
            </Grid>
        </Border>

        <!-- Log Level and Test Button (Row 1) -->
        <StackPanel
            Grid.Row="1"
            Grid.Column="0"
            Orientation="Horizontal"
            Margin="0,0,0,10">
            <Label
                Content="Log Level:"
                VerticalAlignment="Center"
                Foreground="{DynamicResource LabelBrush}"
                Margin="0,0,5,0"/>
            <ComboBox
                ItemsSource="{Binding LogLevelOptions}"
                SelectedItem="{Binding SelectedLogLevel, Mode=TwoWay}"
                DisplayMemberPath="Name"
                Width="100"
                ToolTip="Select log level"
                Style="{DynamicResource ModernComboBox}"/>
        </StackPanel>

        <Button
            Grid.Row="1"
            Grid.Column="1"
            Content="Test Logs"
            Command="{Binding TestLogCommand}"
            HorizontalAlignment="Left"
            Width="120"
            ToolTip="Generate test logs"
            Style="{DynamicResource ModernButton}"
            Margin="0,0,0,10"/>

        <!-- Left Column - Connection Controls (Row 2) -->
        <Border
            Grid.Row="2"
            Grid.Column="0"
            Grid.ColumnSpan="2"
            BorderBrush="{DynamicResource BorderBrush}"
            BorderThickness="1"
            CornerRadius="4"
            Margin="0,0,0,10"
            Padding="10"
            HorizontalAlignment="Left"
            Width="200">
            <StackPanel Orientation="Vertical">
                <Label Content="Available Ports:" Style="{DynamicResource SectionLabel}"/>
                <ComboBox
                    ItemsSource="{Binding AvailablePorts}"
                    SelectedItem="{Binding SelectedPort, Mode=TwoWay}"
                    Style="{DynamicResource ModernComboBox}"
                    Margin="0,5,0,10"/>
                <Button
                    Content="Connect"
                    Command="{Binding ConnectCommand}"
                    Style="{DynamicResource ModernButton}"
                    Height="35"
                    Margin="0,0,0,5"/>
                <Button
                    Content="Disconnect"
                    Command="{Binding DisconnectCommand}"
                    Style="{DynamicResource ModernButton}"
                    Height="35"
                    Margin="0,0,0,10"/>
                <CheckBox
                    Content="Auto-Reconnect"
                    IsChecked="{Binding AutoReconnect, Mode=TwoWay}"
                    Foreground="{DynamicResource LabelBrush}"
                    ToolTip="Automatically reconnect when connection is lost"
                    VerticalAlignment="Center"
                    Margin="0,5,0,0"/>
            </StackPanel>
        </Border>

        <!-- System Logs Display (Row 3) - Full Width -->
        <Grid Grid.Row="3" Grid.Column="1" Margin="0,0,0,10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Header with Label and Clear Button -->
            <Border
                Grid.Row="0"
                Background="Transparent"
                Padding="5,0,5,5">
                <Grid>
                    <Label
                        Content="System Logs:"
                        Style="{DynamicResource SectionLabel}"
                        Foreground="{DynamicResource LabelBrush}"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Padding="0"/>
                    <Button
                        Content="Clear"
                        Command="{Binding ClearLogDataCommand}"
                        Style="{DynamicResource ModernButton}"
                        Width="60"
                        Height="22"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center"
                        FontSize="11"
                        ToolTip="Clear log data"/>
                </Grid>
            </Border>

            <Border
                Grid.Row="1"
                BorderBrush="{DynamicResource BorderBrush}"
                BorderThickness="1"
                CornerRadius="4"
                Padding="0">
                <TextBox
                    Text="{Binding LogData, Mode=TwoWay}"
                    TextWrapping="Wrap"
                    IsReadOnly="True"
                    VerticalScrollBarVisibility="Auto"
                    HorizontalScrollBarVisibility="Disabled"
                    Padding="10"
                    FontFamily="Consolas"
                    FontSize="11"
                    Foreground="{DynamicResource TextBrush}"
                    Background="{DynamicResource ContentBrush}"
                    BorderThickness="0"/>
            </Border>
        </Grid>

        <!-- Send Data Label (Row 4) -->
        <Label
            Grid.Row="4"
            Grid.Column="1"
            Content="Send Data:"
            Style="{DynamicResource SectionLabel}"
            Foreground="{DynamicResource LabelBrush}"
            Margin="0,10,0,5"/>

        <!-- Send Data Controls (Row 5) -->
        <Grid Grid.Row="5" Grid.ColumnSpan="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="200"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Send Button -->
            <Border
                Grid.Column="0"
                BorderBrush="{DynamicResource BorderBrush}"
                BorderThickness="1"
                CornerRadius="4"
                Margin="0,0,10,0"
                Padding="10">
                <Button
                    Content="Send"
                    Command="{Binding SendCommand}"
                    Style="{DynamicResource ModernButton}"
                    Height="35"/>
            </Border>

            <!-- Send TextBox -->
            <Border
                Grid.Column="1"
                BorderBrush="{DynamicResource BorderBrush}"
                BorderThickness="1"
                CornerRadius="4"
                Padding="5">
                <TextBox
                    Text="{Binding SendData, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                    Height="35"
                    VerticalAlignment="Center"
                    HorizontalAlignment="Stretch"
                    VerticalContentAlignment="Center"
                    Padding="8"
                    Foreground="{DynamicResource TextBrush}"
                    Background="{DynamicResource ContentBrush}"
                    BorderThickness="0"
                    CaretBrush="{DynamicResource TextBrush}">
                    <TextBox.InputBindings>
                        <KeyBinding Key="Enter" Command="{Binding SendCommand}"/>
                    </TextBox.InputBindings>
                </TextBox>
            </Border>
        </Grid>
    </Grid>
</Window>